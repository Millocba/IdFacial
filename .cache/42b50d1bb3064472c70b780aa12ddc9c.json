{"dependencies":[{"name":"./createBrowserEnv","loc":{"line":1,"column":33}},{"name":"./createFileSystem","loc":{"line":2,"column":33}},{"name":"./createNodejsEnv","loc":{"line":3,"column":32}},{"name":"./isBrowser","loc":{"line":4,"column":26}},{"name":"./isNodejs","loc":{"line":5,"column":25}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.env = undefined;\n\nvar _createBrowserEnv = require(\"./createBrowserEnv\");\n\nvar _createFileSystem = require(\"./createFileSystem\");\n\nvar _createNodejsEnv = require(\"./createNodejsEnv\");\n\nvar _isBrowser = require(\"./isBrowser\");\n\nvar _isNodejs = require(\"./isNodejs\");\n\nvar environment;\nfunction getEnv() {\n  if (!environment) {\n    throw new Error('getEnv - environment is not defined, check isNodejs() and isBrowser()');\n  }\n  return environment;\n}\nfunction setEnv(env) {\n  environment = env;\n}\nfunction initialize() {\n  // check for isBrowser() first to prevent electron renderer process\n  // to be initialized with wrong environment due to isNodejs() returning true\n  if ((0, _isBrowser.isBrowser)()) {\n    setEnv((0, _createBrowserEnv.createBrowserEnv)());\n  }\n  if ((0, _isNodejs.isNodejs)()) {\n    setEnv((0, _createNodejsEnv.createNodejsEnv)());\n  }\n}\nfunction monkeyPatch(env) {\n  if (!environment) {\n    initialize();\n  }\n  if (!environment) {\n    throw new Error('monkeyPatch - environment is not defined, check isNodejs() and isBrowser()');\n  }\n  var _a = env.Canvas,\n      Canvas = _a === void 0 ? environment.Canvas : _a,\n      _b = env.Image,\n      Image = _b === void 0 ? environment.Image : _b;\n  environment.Canvas = Canvas;\n  environment.Image = Image;\n  environment.createCanvasElement = env.createCanvasElement || function () {\n    return new Canvas();\n  };\n  environment.createImageElement = env.createImageElement || function () {\n    return new Image();\n  };\n  environment.ImageData = env.ImageData || environment.ImageData;\n  environment.Video = env.Video || environment.Video;\n  environment.fetch = env.fetch || environment.fetch;\n  environment.readFile = env.readFile || environment.readFile;\n}\nvar env = exports.env = {\n  getEnv: getEnv,\n  setEnv: setEnv,\n  initialize: initialize,\n  createBrowserEnv: _createBrowserEnv.createBrowserEnv,\n  createFileSystem: _createFileSystem.createFileSystem,\n  createNodejsEnv: _createNodejsEnv.createNodejsEnv,\n  monkeyPatch: monkeyPatch,\n  isBrowser: _isBrowser.isBrowser,\n  isNodejs: _isNodejs.isNodejs\n};\ninitialize();\n//# sourceMappingURL=index.js.map"},"hash":"aff09ee0cae0de700c9466f789274a5e"}