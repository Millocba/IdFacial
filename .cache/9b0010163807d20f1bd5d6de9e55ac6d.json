{"dependencies":[{"name":"../env","loc":{"line":1,"column":20}},{"name":"./createCanvas","loc":{"line":2,"column":52}},{"name":"./getContext2dOrThrow","loc":{"line":3,"column":36}},{"name":"./getMediaDimensions","loc":{"line":4,"column":35}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.imageToSquare = imageToSquare;\n\nvar _env = require(\"../env\");\n\nvar _createCanvas = require(\"./createCanvas\");\n\nvar _getContext2dOrThrow = require(\"./getContext2dOrThrow\");\n\nvar _getMediaDimensions = require(\"./getMediaDimensions\");\n\nfunction imageToSquare(input, inputSize, centerImage) {\n  if (centerImage === void 0) {\n    centerImage = false;\n  }\n  var _a = _env.env.getEnv(),\n      Image = _a.Image,\n      Canvas = _a.Canvas;\n  if (!(input instanceof Image || input instanceof Canvas)) {\n    throw new Error('imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement');\n  }\n  var dims = (0, _getMediaDimensions.getMediaDimensions)(input);\n  var scale = inputSize / Math.max(dims.height, dims.width);\n  var width = scale * dims.width;\n  var height = scale * dims.height;\n  var targetCanvas = (0, _createCanvas.createCanvas)({ width: inputSize, height: inputSize });\n  var inputCanvas = input instanceof Canvas ? input : (0, _createCanvas.createCanvasFromMedia)(input);\n  var offset = Math.abs(width - height) / 2;\n  var dx = centerImage && width < height ? offset : 0;\n  var dy = centerImage && height < width ? offset : 0;\n  (0, _getContext2dOrThrow.getContext2dOrThrow)(targetCanvas).drawImage(inputCanvas, dx, dy, width, height);\n  return targetCanvas;\n}\n//# sourceMappingURL=imageToSquare.js.map"},"hash":"05007d972ed7f642627a21ad5d5d5b73"}