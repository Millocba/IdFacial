{"dependencies":[{"name":"tslib","loc":{"line":1,"column":31}},{"name":"@tensorflow/tfjs-core","loc":{"line":2,"column":20}},{"name":"./convLayer","loc":{"line":3,"column":43}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.residual = residual;\nexports.residualDown = residualDown;\n\nvar _tslib = require(\"tslib\");\n\nvar _tfjsCore = require(\"@tensorflow/tfjs-core\");\n\nvar tf = _interopRequireWildcard(_tfjsCore);\n\nvar _convLayer = require(\"./convLayer\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction residual(x, params) {\n  var out = (0, _convLayer.conv)(x, params.conv1);\n  out = (0, _convLayer.convNoRelu)(out, params.conv2);\n  out = tf.add(out, x);\n  out = tf.relu(out);\n  return out;\n}\nfunction residualDown(x, params) {\n  var out = (0, _convLayer.convDown)(x, params.conv1);\n  out = (0, _convLayer.convNoRelu)(out, params.conv2);\n  var pooled = tf.avgPool(x, 2, 2, 'valid');\n  var zeros = tf.zeros(pooled.shape);\n  var isPad = pooled.shape[3] !== out.shape[3];\n  var isAdjustShape = pooled.shape[1] !== out.shape[1] || pooled.shape[2] !== out.shape[2];\n  if (isAdjustShape) {\n    var padShapeX = (0, _tslib.__spreadArrays)(out.shape);\n    padShapeX[1] = 1;\n    var zerosW = tf.zeros(padShapeX);\n    out = tf.concat([out, zerosW], 1);\n    var padShapeY = (0, _tslib.__spreadArrays)(out.shape);\n    padShapeY[2] = 1;\n    var zerosH = tf.zeros(padShapeY);\n    out = tf.concat([out, zerosH], 2);\n  }\n  pooled = isPad ? tf.concat([pooled, zeros], 3) : pooled;\n  out = tf.add(pooled, out);\n  out = tf.relu(out);\n  return out;\n}\n//# sourceMappingURL=residualLayer.js.map"},"hash":"03ad366c5c92e6427af304decbaba669"}